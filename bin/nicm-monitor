#!/usr/bin/env python

import sys
import getopt
import signal

from nicm.errors import ConfigurationError, UsageError
from nicm.interface import simple

try:
    nicos = simple.start('monitor')
    monitor = nicos.getDevice('Monitor')
    monitor._mode = 'master' # XXX
except (ConfigurationError, UsageError), err:
    print >>sys.stderr, 'Fatal error:', err
    sys.exit(1)

opts, args = getopt.getopt(sys.argv[1:], 's:p:g:')
for opt, arg in opts:
    if opt == '-s':
        monitor.fontsize = int(arg)
    elif opt == '-p':
        monitor.padding = int(arg)
    elif opt == '-g':
        monitor.geometry = arg

monitor.start()
