#!/usr/bin/env python

import argparse
import sys

from os import path

sys.path.insert(0, path.dirname(path.dirname(path.realpath(__file__))))

from nicos.core.sessions.simple import NoninteractiveSession

parser = argparse.ArgumentParser()
parser.add_argument('-s', '--fontsize', dest='fontsize', type=int,
                    help='base font size')
parser.add_argument('--timefontsize', dest='timefontsize', type=int,
                    help='time font size')
parser.add_argument('-p', '--padding', dest='padding', type=int,
                    help='base padding')
parser.add_argument('-g', '--geometry', dest='geometry', type=str,
                    help='window geometry (WxH+X+Y)')
parser.add_argument('-d', '--daemon', dest='daemon', action='store_true',
                    help='daemonize the monitor process (only useful '
                         'for non-GUI versions)')
parser.add_argument('-S', '--setup', action='store', dest='setupname',
                    default='monitor',
                    help="name of the setup, default is 'monitor'")

opts = parser.parse_args()

NoninteractiveSession.run(opts.setupname, maindevname='Monitor',
                          start_args=[opts],
                          pidfile=opts.daemon, daemon=opts.daemon)
