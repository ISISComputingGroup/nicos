description = 'Beckhoff bus coupler DAC channels.'

servername = 'EXV20'
nameservice = '192.168.1.254'
loadblock = '''read=always,async
'''

devices = dict(
      dac12b1_0 = device('nicos.devices.vendor.caress.Driveable',
                    description = 'DAC Channel 12B1_0',
                    requires={'level': 'user'},
                    fmtstr = '%.2f',
                    unit = 'V',
                    # coderoffset = 0,
                    abslimits = (0,10),
                    nameserver = '%s' % (nameservice,),
                    objname = '%s' % (servername),
                    config = 'DAC12B1_0 82 5 192.168.1.2 0 2 2 3276.7 0',
                    loadblock = loadblock,
                    precision = 0.001,
                   ),
      dac12b2_0 = device('nicos.devices.vendor.caress.Driveable',
                    description = 'DAC Channel 12B2_0',
                    requires={'level': 'user'},
                    fmtstr = '%.2f',
                    unit = 'V',
                    # coderoffset = 0,
                    abslimits = (0,10),
                    nameserver = '%s' % (nameservice,),
                    objname = '%s' % (servername),
                    config = 'DAC12B1_1 82 5 192.168.1.2 0 6 2 3276.7 0',
                    loadblock = loadblock,
                   ),
      dac12b2_1 = device('nicos.devices.vendor.caress.Driveable',
                    description = 'DAC Channel 12B2_1',
                    requires={'level': 'user'},
                    fmtstr = '%.2f',
                    unit = 'V',
                    # coderoffset = 0,
                    abslimits = (-10,10),
                    nameserver = '%s' % (nameservice,),
                    objname = '%s' % (servername),
                    config = 'DAC12B2_1 82 5 192.168.1.2 0 38 2 3276.7 0',
                    loadblock = loadblock,
                    precision = 0.001,
                   ),
      dac16b1_0 = device('nicos.devices.vendor.caress.Driveable',
                    description = 'DAC Channel 16B1_0',
                    requires={'level': 'user'},
                    fmtstr = '%.2f',
                    unit = 'V',
                    # coderoffset = 0,
                    abslimits = (-10,10),
                    nameserver = '%s' % (nameservice,),
                    objname = '%s' % (servername),
                    config = 'DAC16B1_0 82 5 192.168.1.2 0 66 2 3276.7 0',
                    loadblock = loadblock,
                    precision = 0.001,
                   ),
)
