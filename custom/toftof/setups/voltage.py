description = 'low and high voltage power supplies for detector'

group = 'lowlevel'

includes = ['system']

nethost = 'toftofsrv.toftof.frm2'

devices = dict(
    lvbus = device('devices.vendor.toni.ModBus',
                   tacodevice = '//%s/toftof/rs232/ifpowersupply' % (nethost, ),
                   lowlevel = True,
                  ),
    lv0   = device('devices.vendor.toni.LVPower',
                   requires = {'level': 'admin'},
                   bus = 'lvbus',
                   addr = 0xF1,
                   pollinterval = 10,
                   maxage = 12,
                  ),
    lv1   = device('devices.vendor.toni.LVPower',
                   requires = {'level': 'admin'},
                   bus = 'lvbus',
                   addr = 0xF2,
                   pollinterval = 10,
                   maxage = 12,
                  ),
    lv2   = device('devices.vendor.toni.LVPower',
                   requires = {'level': 'admin'},
                   bus = 'lvbus',
                   addr = 0xF3,
                   pollinterval = 10,
                   maxage = 12,
                  ),
    lv3   = device('devices.vendor.toni.LVPower',
                   requires = {'level': 'admin'},
                   bus = 'lvbus',
                   addr = 0xF4,
                   pollinterval = 10,
                   maxage = 12,
                  ),
    lv4   = device('devices.vendor.toni.LVPower',
                   requires = {'level': 'admin'},
                   bus = 'lvbus',
                   addr = 0xF5,
                   pollinterval = 10,
                   maxage = 12,
                  ),
    lv5   = device('devices.vendor.toni.LVPower',
                   requires = {'level': 'admin'},
                   bus = 'lvbus',
                   addr = 0xF6,
                   pollinterval = 10,
                   maxage = 12,
                  ),
    lv6   = device('devices.vendor.toni.LVPower',
                   requires = {'level': 'admin'},
                   bus = 'lvbus',
                   addr = 0xF7,
                   pollinterval = 10,
                   maxage = 12,
                  ),
    lv7   = device('devices.vendor.toni.LVPower',
                   requires = {'level': 'admin'},
                   bus = 'lvbus',
                   addr = 0xF8,
                   pollinterval = 10,
                   maxage = 12,
                  ),
    hv0   = device('devices.taco.VoltageSupply',
                   requires = {'level': 'admin'},
                   tacodevice = '//%s/toftof/iseg1/voltage' % (nethost,),
                   abslimits = (0, 1600),
                   ramp = 120,
                  ),
    hv1   = device('devices.taco.VoltageSupply',
                   requires = {'level': 'admin'},
                   tacodevice = '//%s/toftof/iseg2/voltage' % (nethost,),
                   abslimits = (0, 1600),
                   ramp = 120,
                  ),
#   hvbus = device('devices.vendor.toni.ModBus',
#                   tacodevice = '//%s/toftof/rs232/ifpowersupply' % (nethost,),
#                   lowlevel = True),
#   hv2   = device('toftof.iseg.IsegHV',
#                   bus = 'hvbus',
#                   toniaddr = 0xF0,
#                   tonichannel = 2,
#                   channel = 1),
)
