description = 'testing qmesydaq'
group = 'optional'

nethost = 'taco61.taco.frm2'

devices = dict(
    BerSANSFileSaver  = device('sans1.bersans.BerSANSFileFormat',
                               description = 'Saves image data in BerSANS format',
                               filenametemplate = ['D%(counter)07d.001'],
                               lowlevel = True,
                              ),
    RAWFileSaver      = device('nicos.devices.fileformats.RAWFileFormat',
                               description = 'Saves image data in RAW format',
                               filenametemplate = ['%(proposal)s_%(counter)06d.raw',
                               '%(proposal)s_%(session.experiment.lastscan)s_'
                               '%(counter)s_%(scanpoint)s.raw'],
                               lowlevel = True,
                              ),
    LiveViewSink = device('nicos.devices.fileformats.LiveViewSink',
                               description = 'Sends image data to LiveViewWidget',
                               lowlevel = True,
                              ),
    qm_ctr0 = device('nicos.devices.vendor.qmesydaq.QMesyDAQCounter',
                     description = 'QMesyDAQ Counter0',
                     tacodevice = '//%s/test/qmesydaq/counter0' % nethost,
                     type = 'counter',
                     ),
    qm_ctr1 = device('nicos.devices.vendor.qmesydaq.QMesyDAQCounter',
                     description = 'QMesyDAQ Counter1',
                     tacodevice = '//%s/test/qmesydaq/counter1' % nethost,
                     type = 'counter',
                     ),
    qm_ctr2 = device('nicos.devices.vendor.qmesydaq.QMesyDAQCounter',
                     description = 'QMesyDAQ Counter2',
                     tacodevice = '//%s/test/qmesydaq/counter2' % nethost,
                     type = 'monitor',
                     ),
    qm_ctr3= device('nicos.devices.vendor.qmesydaq.QMesyDAQCounter',
                     description = 'QMesyDAQ Counter3',
                     tacodevice = '//%s/test/qmesydaq/counter3' % nethost,
                     type = 'monitor',
                     ),
    qm_ev  = device('nicos.devices.vendor.qmesydaq.QMesyDAQCounter',
                     description = 'QMesyDAQ Events channel',
                     tacodevice = '//%s/test/qmesydaq/events' % nethost,
                     type = 'counter',
                     ),
    qm_timer = device('nicos.devices.vendor.qmesydaq.QMesyDAQTimer',
                     description = 'QMesyDAQ Timer',
                     tacodevice = '//%s/test/qmesydaq/timer' % nethost,
                     ),
    qm_det = device('nicos.devices.vendor.qmesydaq.QMesyDAQImage',
                     description = 'QMesyDAQ Image type Detector',
                     tacodevice = '//%s/test/qmesydaq/det' % nethost,
                     events = 'qm_ev',
                     timer = 'qm_timer',
                     counters = ['qm_ctr0',  'qm_ctr2'],
                     monitors = ['qm_ctr1',  'qm_ctr3'],
                     fileformats = ['RAWFileSaver', 'BerSANSFileSaver', 'LiveViewSink'],
                     subdir = 'QMesyDAQ2',
                     ),
)

