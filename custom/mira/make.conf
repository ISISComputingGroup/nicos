# make.conf: Makefile includes that configure the NICOS install for a
# specified instrument.

ROOTDIR = /miracontrol

SYSUSER = mira
SYSGROUP = mira
NETHOST = mirasrv
SERVICES = cache,poller,daemon,elog

# targets for custom actions

custom-all:
	cd custom/mira/src/cascade && make nicosmodules

custom-inplace:
	cp $(VOPT) custom/mira/src/cascade/nicosclient/pythonbinding/cascadeclient.so custom/mira/lib
	-cp $(VOPT) custom/mira/src/cascade/nicoswidget/pythonbinding/cascadewidget.so custom/mira/lib/gui

custom-install:
	cp $(VOPT) custom/mira/src/cascade/nicosclient/pythonbinding/cascadeclient.so $(ROOTDIR)/lib/nicos/mira
	-cp $(VOPT) custom/mira/src/cascade/nicoswidget/pythonbinding/cascadewidget.so $(ROOTDIR)/lib/nicos/mira/gui

custom-clean:
	cd custom/mira/src/cascade && make clean
