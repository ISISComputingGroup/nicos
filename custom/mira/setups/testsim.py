name = 'base'

group = 'simulated'

sysconfig = dict(
    instrument = 'mira',
    experiment = 'Exp',
    datasinks = ['conssink', 'filesink', 'dmnsink', 'gracesink'],
)

devices = dict(
    t_kf = device('nicos.tas.Wavevector',
        base = 't_ana',
        tas = 'mira',
        description = '',
        loglevel = 'info',
        maxage = 6,
        fmtstr = '%.3f',
        opmode = 'CKF',
        userlimits = (0, 10),
        lowlevel = False,
        abslimits = (0, 10),
        pollinterval = 5,
        unit = 'A-1',
        target = 0.0,
    ),
    t_ki = device('nicos.tas.Wavevector',
        base = 't_mono',
        tas = 'mira',
        description = '',
        loglevel = 'info',
        maxage = 6,
        fmtstr = '%.3f',
        opmode = 'CKI',
        userlimits = (0, 10),
        lowlevel = False,
        abslimits = (0, 10),
        pollinterval = 5,
        unit = 'A-1',
        target = 1.55,
    ),
    smser = device('nicos.notify.SMSer',
        loglevel = 'info',
        description = '',
        receivers = [],
        lowlevel = False,
        minruntime = 300,
        subject = 'NICOS',
        server = 'triton.admin.frm2',
    ),
    atten2 = device('nicos.mira.toni.Valve',
        bus = 'MonoToni',
        states = ['out', 'in'],
        description = '',
        loglevel = 'info',
        waittime = 4,
        maxage = 6,
        fmtstr = '%s',
        addr = 241,
        channel = 7,
        lowlevel = False,
        pollinterval = 5,
        unit = '',
        target = 0.0,
    ),
    atten1 = device('nicos.mira.toni.Valve',
        bus = 'MonoToni',
        states = ['out', 'in'],
        description = '',
        loglevel = 'info',
        waittime = 4,
        maxage = 6,
        fmtstr = '%s',
        addr = 241,
        channel = 6,
        lowlevel = False,
        pollinterval = 5,
        unit = '',
        target = 0.0,
    ),
    FlipperMira1in = device('nicos.mira.toni.Valve',
        bus = 'MonoToni',
        states = ['out', 'in'],
        description = '',
        loglevel = 'info',
        waittime = 4,
        maxage = 6,
        fmtstr = '%s',
        addr = 241,
        channel = 3,
        lowlevel = False,
        pollinterval = 5,
        unit = '',
        target = 0.0,
    ),
    t_psi = device('nicos.virtual.VirtualMotor',
        jitter = 0.05,
        description = '',
        loglevel = 'info',
        pollinterval = 5,
        userlimits = (0.0, 100.0),
        maxage = 6,
        curstatus = (100, 'idle'),
        fmtstr = '%.3f',
        curvalue = 101.0,
        offset = 0.0,
        lowlevel = False,
        abslimits = (0, 360),
        speed = 2,
        unit = 'deg',
        target = 101,
    ),
    t_phi = device('nicos.virtual.VirtualMotor',
        jitter = 0.01,
        description = '',
        loglevel = 'info',
        pollinterval = 5,
        userlimits = (-180, 180),
        maxage = 6,
        curstatus = (100, 'idle'),
        fmtstr = '%.3f',
        curvalue = -40.27600243405915,
        offset = 0.0,
        lowlevel = False,
        abslimits = (-180, 180),
        speed = 1,
        unit = 'deg',
        target = -40.27600243405915,
    ),
    t_ana = device('nicos.virtual.VirtualMotor',
        jitter = 0.02,
        description = '',
        loglevel = 'info',
        pollinterval = 5,
        userlimits = (0, 10),
        maxage = 6,
        curstatus = (100, 'idle'),
        fmtstr = '%.3f',
        curvalue = 1.2593761209913976,
        offset = 0.0,
        lowlevel = False,
        abslimits = (0, 10),
        speed = 0.0,
        unit = 'A-1',
        target = 1.2566127194959176,
    ),
    lamfilter = device('nicos.mira.toni.Valve',
        bus = 'MonoToni',
        states = ['in', 'out'],
        description = '',
        loglevel = 'info',
        waittime = 4,
        maxage = 6,
        fmtstr = '%s',
        addr = 241,
        channel = 4,
        lowlevel = False,
        pollinterval = 5,
        unit = '',
        target = 0.0,
    ),
    email = device('nicos.notify.Mailer',
        sender = 'nicos@mira1',
        description = '',
        receivers = [],
        loglevel = 'info',
        minruntime = 300,
        copies = ['rgeorgii@frm2.tum.de'],
        lowlevel = False,
        subject = 'MIRA',
    ),
    dmnsink = device('nicos.data.DaemonSink',
        lowlevel = False,
        loglevel = 'info',
        scantypes = [],
        description = '',
    ),
    FOLin = device('nicos.mira.toni.Valve',
        bus = 'MonoToni',
        states = ['out', 'in'],
        description = '',
        loglevel = 'info',
        waittime = 4,
        maxage = 6,
        fmtstr = '%s',
        addr = 241,
        channel = 0,
        lowlevel = False,
        pollinterval = 5,
        unit = '',
        target = 0.0,
    ),
    MonoToni = device('nicos.mira.toni.ModBus',
        tacolog = False,
        loglevel = 'debug',
        description = '',
        tacotimeout = 3,
        lowlevel = True,
        tacodevice = 'mira/rs232/monotoni',
        maxtries = 5,
        source = 0,
    ),
    mira = device('nicos.tas.TAS',
        cell = 'Sample',
        mono = 't_mono',
        phi = 't_phi',
        psi = 't_psi',
        ana = 't_ana',
        description = '',
        loglevel = 'info',
        responsible = 'Robert Georgii <robert.georgii@frm2.tum.de>',
        maxage = 6,
        scatteringsense = [1, -1, 1],
        fmtstr = '[%7.4f, %7.4f, %7.4f, %7.4f, %7.4f]',
        instrument = 'MIRA',
        axiscoupling = True,
        energytransferunit = 'THz',
        opmode = 'CKI',
        lowlevel = False,
        psi360 = True,
        pollinterval = 5,
        unit = 'rlu rlu rlu THz A-1',
        target = [1, 0, 0, 0.4, None],
    ),
    gracesink = device('nicos.data.GraceSink',
        lowlevel = False,
        loglevel = 'info',
        scantypes = [],
        description = '',
    ),
    Exp = device('nicos.mira.experiment.MiraExperiment',
        sample = 'Sample',
        remark = '',
        description = '',
        title = 'Inbetriebnahme MIRA2',
        loglevel = 'info',
        _propdb = 'useroffice@tacodb.taco.frm2:useroffice',
        datapath = ['/data/2011/5514'],
        scriptdir = '/data/2011/5514/scripts',
        detlist = ['det'],
        lowlevel = False,
        envlist = [],
        proposal = '5514',
        users = ['Georg Brandl <georg.brandl@frm2.tum.de>, Physik Department E21'],
    ),
    t_mono = device('nicos.virtual.VirtualMotor',
        jitter = 0.02,
        description = '',
        loglevel = 'info',
        pollinterval = 5,
        userlimits = (1.0, 2.0),
        maxage = 6,
        curstatus = (100, 'idle'),
        fmtstr = '%.3f',
        curvalue = 0.5060595099453549,
        offset = 0.0,
        lowlevel = False,
        abslimits = (0, 10),
        speed = 0.0,
        unit = 'A-1',
        target = 0.5,
    ),
    conssink = device('nicos.data.ConsoleSink',
        lowlevel = False,
        loglevel = 'info',
        scantypes = [],
        description = '',
    ),
    FlipperMira2in = device('nicos.mira.toni.Valve',
        bus = 'MonoToni',
        states = ['in', 'out'],
        description = '',
        loglevel = 'info',
        waittime = 4,
        maxage = 6,
        fmtstr = '%s',
        addr = 241,
        channel = 3,
        lowlevel = False,
        pollinterval = 5,
        unit = '',
        target = 0.0,
    ),
    Sample = device('nicos.tas.TASSample',
        orient2 = [0, 1, 0],
        description = '',
        orient1 = [1, 0, 0],
        loglevel = 'info',
        samplename = '',
        lattice = [6.283185307179586, 6.283185307179586, 6.283185307179586],
        psi0 = 0.0,
        angles = [90, 90, 90],
        lowlevel = False,
    ),
    filesink = device('nicos.data.AsciiDatafileSink',
        commentchar = '#',
        description = '',
        semicolon = True,
        loglevel = 'info',
        datapath = ['/data/2011/5514'],
        lowlevel = False,
        scantypes = [],
        globalcounter = '/data/filecounter',
        lastfilenumber = 10018,
    ),
)

startupcode = """
_SimulationRestore('atten2', 'out')
_SimulationRestore('atten1', 'out')
_SimulationRestore('FlipperMira1in', 'out')
_SimulationRestore('t_psi', 101.0)
_SimulationRestore('t_phi', -40.27600243405915)
_SimulationRestore('t_ana', 1.2593761209913976)
_SimulationRestore('lamfilter', 'in')
_SimulationRestore('FOLin', 'out')
_SimulationRestore('t_mono', 0.5060595099453549)
_SimulationRestore('FlipperMira2in', 'in')
"""
