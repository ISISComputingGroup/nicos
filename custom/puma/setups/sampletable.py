#  -*- coding: utf-8 -*-

name = 'Sample table'

includes = ['system']
 
 # sth,stt,sgx,sgy,stx,sty,stz,--

devices = dict(
    motorbus4 = device('nicos.ipc.IPCModBusTaco',
            tacodevice='puma/rs485/s43',
            timeout=0.5,
    ),
    motorbus1 = device('nicos.ipc.IPCModBusTaco',
            tacodevice='puma/rs485/mc',
            timeout=0.5,
    ),
    motorbus2 = device('nicos.ipc.IPCModBusTaco',
            tacodevice='puma/rs485/s41',
            timeout=0.5,
    ),
    motorbus11 = device('nicos.ipc.IPCModBusTaco',
            tacodevice='puma/rs485/st',
            timeout=0.5,
    ),
 
    st_phi = device('nicos.ipc.Motor',
            bus = 'motorbus4',
            addr = 53,
            slope = 400,
            unit = 'deg',
            abslimits = (-5, 114.1),
            zerosteps = 500000,
            #confbyte = ,
            #speed = ,
            #accel = ,
            #microstep = ,
            #startdelay = ,
            #stopdelay = ,
            #ramptype = ,
            lowlevel = True,
    ),
    st_sgx = device('nicos.ipc.Motor',
            bus = 'motorbus11',
            addr = 64,
            slope = -3196,
            unit = 'deg',
            abslimits = (-15.6, 15.6),
            zerosteps = 500000,
            lowlevel = True,
    ),
    st_sgy = device('nicos.ipc.Motor',
            bus = 'motorbus11',
            addr = 65,
            slope = -3196,
            unit = 'deg',
            abslimits = (-15.6, 15.6),
            zerosteps = 500000,
            lowlevel = True,
    ),
    st_stx = device('nicos.ipc.Motor',
            bus = 'motorbus11',
            addr = 66,
            slope = -12750,
            unit = 'mm',
            abslimits = (-18, 13.5),
            zerosteps = 500000,
            lowlevel = True,
    ),
    st_sty = device('nicos.ipc.Motor',
            bus = 'motorbus11',
            addr = 67,
            slope = -13000,
            unit = 'mm',
            abslimits = (-18.1, 18.1),
            zerosteps = 500000,
            lowlevel = True,
    ),
    st_stz = device('nicos.ipc.Motor',
            bus = 'motorbus11',
            addr = 68,
            slope = -20000,
            unit = 'mm',
            abslimits = (-20, 20),
            zerosteps = 500000,
            lowlevel = True,
    ),
    st_om = device('nicos.ipc.Motor',
            bus = 'motorbus2',
            addr = 58,
            slope = -400,
            unit = 'deg',
            abslimits = (1, 359),
            zerosteps = 500000,
            lowlevel = True,
    ),


    co_phi = device('nicos.ipc.Coder',
            bus = 'motorbus1',
            addr = 128,
            slope = -186413.5111,
            zerosteps = 9392590,
            #confbyte = 148,
            unit = 'deg',
            circular = -360, # map values to -180..0..180 degree
            lowlevel = True,
    ),
    co_om = device('nicos.ipc.Coder',
            bus = 'motorbus1',
            addr = 129,
            slope = -2912.7111,
            zerosteps = 206142,
            unit = 'deg',
            lowlevel = True,
    ),
    co_sgx = device('nicos.ipc.Coder',
            bus = 'motorbus11',
            addr = 70,
            slope = -8192,
            zerosteps = 33466203,
            unit = 'deg',
            lowlevel = True,
    ),
    co_sgy = device('nicos.ipc.Coder',
            bus = 'motorbus11',
            addr = 71,
            slope = -8192,
            zerosteps = 33553860,
            unit = 'deg',
            lowlevel = True,
    ),
    co_stx = device('nicos.ipc.Coder',
            bus = 'motorbus11',
            addr = 74,
            slope = -154,
            zerosteps = 3798,
            unit = 'mm',
            lowlevel = True,
    ),
    co_sty = device('nicos.ipc.Coder',
            bus = 'motorbus11',
            addr = 75,
            slope = -160,
            zerosteps = 4256,
            unit = 'mm',
            lowlevel = True,
    ),
    co_stz = device('nicos.ipc.Coder',
            bus = 'motorbus11',
            addr = 76,
            slope = 155,
            zerosteps = 4055,
            unit = 'mm',
            lowlevel = True,
    ),

    stx = device('nicos.generic.Axis',
            motor = 'st_stx',
            coder = 'co_stx',
            obs = [],
            precision = 0.05,
            offset = 0.5,
            fmtstr = '%.3f',
    ),
    sty = device('nicos.generic.Axis',
            motor = 'st_sty',
            coder = 'co_sty',
            obs = [],
            precision = 0.05,
            offset = -0.15,
            fmtstr = '%.3f',
    ),
    stz = device('nicos.generic.Axis',
            motor = 'st_stz',
            coder = 'co_stz',
            obs = [],
            precision = 0.1,
            offset = 0,
            fmtstr = '%.2f',
    ),
    sgx = device('nicos.generic.Axis',
            motor = 'st_sgx',
            coder = 'co_sgx',
            obs = [],
            precision = 0.02,
            offset = 0,
            fmtstr = '%.3f',
    ),
    sgy = device('nicos.generic.Axis',
            motor = 'st_sgy',
            coder = 'co_sgy',
            obs = [],
            precision = 0.02,
            offset = 0,
            fmtstr = '%.3f',
    ),
    psi = device('nicos.generic.Axis',
            motor = 'st_om',
            coder = 'co_om',
            obs = [],
            precision = 0.005,
            offset = -256.997,
            fmtstr = '%.3f',
    ),
    phi = device('nicos.generic.Axis',
            motor = 'st_phi',
            coder = 'co_phi',
            obs = [],
            precision = 0.005,
            offset = 0.540,
    ),

)
