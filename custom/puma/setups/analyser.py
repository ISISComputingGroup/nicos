#  -*- coding: utf-8 -*-

description = 'Analyser table'

includes = ['system', 'motorbus1', 'motorbus2', 'motorbus6']
 

devices = dict(
    st_att = device('devices.vendor.ipc.Motor',
                    bus = 'motorbus2',
                    addr = 60,
                    slope = -538,  # -600 Multi
                    unit = 'deg',
                    abslimits = (-117, -2),
                    zerosteps = 500000,
                    lowlevel = True,
                    ),
    st_ath = device('devices.vendor.ipc.Motor',
                    bus = 'motorbus6',
                    addr = 92,
                    slope = -200,
                    unit = 'deg',
                    abslimits = (0, 180),
                    zerosteps = 500000,
                    lowlevel = True,
                    ),
    st_agx = device('devices.vendor.ipc.Motor',
                    bus = 'motorbus6',
                    addr = 87,
                    slope = 5000,
                    unit = 'deg',
                    abslimits = (-5.5, 5.5),
                    zerosteps = 500000,
                    lowlevel = True,
                    ),
    st_agy = device('devices.vendor.ipc.Motor',
                    bus = 'motorbus6',
                    addr = 86,
                    slope = -5000,
                    unit = 'deg',
                    abslimits = (-5.5, 4.5),
                    zerosteps = 500000,
                    lowlevel = True,
                    ),
    st_atx = device('devices.vendor.ipc.Motor',
                    bus = 'motorbus6',
                    addr = 89,
                    slope = 5000,
                    unit = 'mm',
                    abslimits = (-10.1, 7.6),
                    zerosteps = 500000,
                    lowlevel = True,
                    ),
    st_aty = device('devices.vendor.ipc.Motor',
                    bus = 'motorbus6',
                    addr = 88,
                    slope = -5000,
                    unit = 'mm',
                    abslimits = (-6.1, 5.1),
                    zerosteps = 500000,
                    lowlevel = True,
                    ),
    st_afh = device('devices.vendor.ipc.Motor',
                    bus = 'motorbus6',
                    addr = 90,
                    slope = -403.226,
                    unit = 'deg',
                    abslimits = (0.9, 55),
                    zerosteps = 505306.456,
                    lowlevel = True,
                    ),

    #  attention this set of offset, absMin, absMax and coderoffset is for the - scattering side (standard)
    #  for + side use absMin=-180,absMax=0, coderoffset = 386566  K. Hradil 5.8.04 ()
    # window 1: 00124422, ana_stat = 1; window 2: 386564, ana_stat = 2
    # for multidetector: window1: 128327; window2: 390471
    # working position for multidetector is window2
    co_att = device('devices.vendor.ipc.Coder',
                    bus = 'motorbus1',
                    addr = 130,
                    slope = 2912.7111,
                    zerosteps = 124422,
                    unit = 'deg',
                    lowlevel = True,
                    ),
    co_ath = device('devices.vendor.ipc.Coder',
                    bus = 'motorbus1',
                    addr = 131,
                    slope = 2912.7111,
                    zerosteps = 476397,
                    unit = 'deg',
                    lowlevel = True,
                    ),
    co_atx = device('devices.vendor.ipc.Coder',
                    bus = 'motorbus1',
                    addr = 156,
                    slope = 76.57,
                    zerosteps = 2404,
                    unit = 'mm',
                    lowlevel = True,
                    ),
    co_aty = device('devices.vendor.ipc.Coder',
                    bus = 'motorbus1',
                    addr = 157,
                    slope = 77.57,
                    zerosteps = 2392,
                    unit = 'mm',
                    lowlevel = True,
                    ),
    co_afh = device('devices.vendor.ipc.Coder',
                    bus = 'motorbus1',
                    addr = 159,
                    slope = -55.743,
                    zerosteps = 3864.42,
                    unit = 'deg',
                    lowlevel = True,
                    ),

    att    = device('devices.generic.Axis',
                    motor = 'st_att',
                    coder = 'co_att',
                    obs = [],
                    precision = 0.005,
                    offset = 0.49325,
                    fmtstr = '%.3f',
                    maxtries = 5,
                    ),
    ath_raw = device('devices.generic.Axis',
                    motor = 'st_ath',
                    coder = 'co_ath',
                    obs = [],
                    precision = 0.009,
                    offset = -0.8318,
                    fmtstr = '%.3f',
                    maxtries = 10,
                    ),
    ath    = device('puma.relaxis.PumaRelativeAxis',
                    mov_ax = 'ath_raw',
                    relative_ax = 'att',
                    ),
    atx    = device('devices.generic.Axis',
                    motor = 'st_atx',
                    coder = 'co_atx',
                    obs = [],
                    precision = 0.05,
                    offset = 0,
                    fmtstr = '%.2f',
                    maxtries = 10,
                    ),
    aty    = device('devices.generic.Axis',
                    motor = 'st_aty',
                    coder = 'co_aty',
                    obs = [],
                    precision = 0.05,
                    offset = 0,
                    fmtstr = '%.2f',
                    maxtries = 10,
                    ),
    agx    = device('devices.generic.Axis',
                    motor = 'st_agx',
                    coder = 'st_agx',
                    obs = [],
                    precision = 0.01,  # not used
                    offset = 0,
                    fmtstr = '%.3f',
                    ),
    agy    = device('devices.generic.Axis',
                    motor = 'st_agy',
                    coder = 'st_agy',
                    obs = [],
                    precision = 0.01,  # not used
                    offset = 0,
                    fmtstr = '%.3f',
                    ),
    afh    = device('devices.generic.Axis',
                    motor = 'st_afh',
                    coder = 'co_afh',
                    obs = [],
                    precision = 0.25,
                    offset = 0,
                    fmtstr = '%.2f',
                    maxtries = 10,
                    ),

)
