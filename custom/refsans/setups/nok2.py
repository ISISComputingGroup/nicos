NOK = 'NOK2'

description = '%s setup' % (NOK)

nok = NOK.lower()

nethost = 'refsanssrv.refsans.frm2'

includes = ['nokref', 'motorbus',]

devices = {
    nok + 'portr' : device('devices.taco.io.AnalogInput',
                           description = 'Voltage input of the %s coder (reactor side)' % (NOK),
                           tacodevice = '//%s/test/wb_a/1_1' % (nethost,),
                           lowlevel = True,
                          ),
    nok + 'ports' : device('devices.taco.io.AnalogInput',
                           description = 'Voltage input of the %s coder (sample side)' % (NOK),
                           tacodevice = '//%s/test/wb_a/1_2' % (nethost,),
                           lowlevel = True,
                          ),
    nok + 'obsr' : device('refsans.nok.Coder',
                          description = '%s potentiometer coder (reactor side)' % (NOK),
                          mul = 0.996418,
                          off = 9.169441,
                          snr = 6512,
                          sensitivity = 3.858,
                          port = '%sportr' % (nok,),
                          ref = 'nrefa1',
                          lowlevel = True,
                         ),
    nok + 'obss' : device('refsans.nok.Coder',
                          description = '%s potentiometer coder (sample side)' % (NOK),
                          mul = 1.003096,
                          off = -22.686241,
                          snr = 6510,
                          sensitivity = 3.846,
                          port = '%sports' % (nok,),
                          ref = 'nrefa1',
                          lowlevel = True,
                         ),
    nok + 'motorr' : device('devices.taco.motor.Motor',
                            description = 'Motor of the %s (reactor side)' % NOK,
                            tacodevice = '//%s/test/%s/mr' % (nethost, nok,),
                            lowlevel = True,
                           ),
    nok + 'motors' : device('devices.taco.motor.Motor',
                            description = 'Motor of the %s (sample side)' % NOK,
                            tacodevice = '//%s/test/%s/ms' % (nethost, nok,),
                            lowlevel = True,
                           ),
    nok + 'sllr' : device('devices.taco.io.DigitalInput',
                          description = 'low limit switch of %s (reactor side)' % NOK,
                          tacodevice = '//%s/test/%s/srll' % (nethost, nok,),
                          lowlevel = True,
                         ),
    nok + 'shlr' : device('devices.taco.io.DigitalInput',
                          description = 'high limit switch of %s (reactor side)' % NOK,
                          tacodevice = '//%s/test/%s/srhl' % (nethost, nok,),
                          lowlevel = True,
                         ),
    nok + 'srefr' : device('devices.taco.io.DigitalInput',
                           description = 'reference switch of %s (reactor side)' % NOK,
                           tacodevice = '//%s/test/%s/srref' % (nethost, nok,),
                           lowlevel = True,
                          ),
    nok + 'slls' : device('devices.taco.io.DigitalInput',
                          description = 'low limit switch of %s (sample side)' % NOK,
                          tacodevice = '//%s/test/%s/ssll' % (nethost, nok,),
                          lowlevel = True,
                         ),
    nok + 'shls' : device('devices.taco.io.DigitalInput',
                          description = 'high limit switch of %s (sample side)' % NOK,
                          tacodevice = '//%s/test/%s/sshl' % (nethost, nok,),
                          lowlevel = True,
                         ),
    nok + 'srefs' : device('devices.taco.io.DigitalInput',
                           description = 'reference switch of %s (sample side)' % NOK,
                           tacodevice = '//%s/test/%s/ssref' % (nethost, nok,),
                           lowlevel = True,
                          ),
    nok + 'axisr' : device('refsans.nok.Axis',
                           description = '%s Axis (reactor side)' % NOK,
                           motor = '%smotorr' % (nok,),
                           coder = '%smotorr' % (nok,),
                           obs = ['%sobsr' % (nok,),],
                           bus = 'motorbus2',
                           sll = '%ssllr' % (nok,),
                           shl = '%sshlr' % (nok,),
                           sref = '%ssrefr' % (nok,),
                           backlash = -2.0,
                           precision = 0.05,
                           refpoint = -4.290,
                          ),
    nok + 'axiss' : device('refsans.nok.Axis',
                           description = '%s Axis (sample side)' % NOK,
                           motor = '%smotors' % (nok,),
                           coder = '%smotors' % (nok,),
                           obs = ['%sobss' % (nok,),],
                           bus = 'motorbus2',
                           sll = '%sslls' % (nok,),
                           shl = '%sshls' % (nok,),
                           sref = '%ssrefs' % (nok,),
                           backlash = -2.0,
                           precision = 0.05,
                           refpoint = -17.880,
                          ),
#   nok : device('refsans.nok.Nok',
#                unit = 'mm',
#                fmtstr = '%.5f',
#                bus = 'motorbus2',
#                motor = nethost + 'test/nok1/ngm',
#                encoder = nethost + 'test/nok1/nge',
#                refswitch = nethost + 'test/nok1/ngsref',
#                lowlimitswitch = [nethost + 'test/nok1/ngsll',],
#                highlimitswitch = [nethost + 'test/nok1/ngshl',],
#                #refpos = [-14.419, ],
#                refpos = [-14.729 ], #JFM07_06_2010
#                backlash = 2,
#                posinclination = 0,
#                neginclination = 0,
#               ),
}
