# -*- coding: utf-8 -*-

description = 'JCNS motor control'

group = 'optional'

includes = []

tango_host = 'tango://cpci01.antares.frm2:10000'

devices = dict(
    # Pilz shutter control
    shutter1_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Shutter 1',
                         tangodevice = '%s/antares/fzjdp/PilzShutter1' % tango_host,
                         lowlevel = True,
                        ),
    shutter1 = device('devices.generic.Switcher',
                      description = 'Shutter 1',
                      moveable = 'shutter1_io',
                      mapping = dict( open=1, closed=2 ),
                      fallback = '<undefined>',
                      precision = 0,
                     ),

    shutter2_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Shutter 2',
                         tangodevice = '%s/antares/fzjdp/PilzShutter2' % tango_host,
                         lowlevel = True,
                        ),
    shutter2 = device('devices.generic.Switcher',
                      description = 'Shutter 2',
                      moveable = 'shutter2_io',
                      mapping = dict( open=1, closed=2 ),
                      fallback = '<undefined>',
                      precision = 0,
                     ),

    fastshutter_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Fast shutter',
                         tangodevice = '%s/antares/fzjdp/FastShutter' % tango_host,
                         lowlevel = True,
                        ),
    fastshutter = device('devices.generic.Switcher',
                      description = 'Fast shutter',
                      moveable = 'fastshutter_io',
                      mapping = dict( open=1, closed=2 ),
                      fallback = '<undefined>',
                      precision = 0,
                     ),


    emergency_io = device('devices.tango.DigitalInput',
                          description = 'Tango device for Emergency readout',
                          tangodevice = '%s/antares/fzjdp/PilzEmergencyStop' % tango_host,
                          lowlevel = True,
                         ),
    emergency = device('devices.generic.ReadonlySwitcher',
                       description = 'Emergency readout',
                       readable = 'emergency_io',
                       mapping = dict(zip([', '.join(
                                ['Emergency stop %d pressed'%k for k in range(1,6) if v&(2**(k-1))]) or 'OK'
                                for v in range(32)],range(32))),
                       precision = 0,
                      ),

    # searchbuttons
    tourbutton1_io = device('devices.tango.DigitalInput',
                            description = 'Tango device for Tourbutton1',
                            tangodevice = '%s/antares/fzjdp/PilzSecTourButton1' % tango_host,
                            lowlevel = True,
                           ),
    tourbutton1 = device('devices.generic.ReadonlySwitcher',
                         description = 'Tourbutton1',
                         readable = 'tourbutton1_io',
                         mapping = dict(unpressed=1, pressed=0),
                         precision = 0,
                        ),

    tourbutton2_io = device('devices.tango.DigitalInput',
                            description = 'Tango device for Tourbutton2',
                            tangodevice = '%s/antares/fzjdp/PilzSecTourButton2' % tango_host,
                            lowlevel = True,
                           ),
    tourbutton2 = device('devices.generic.ReadonlySwitcher',
                         description = 'Tourbutton2',
                         readable = 'tourbutton2_io',
                         mapping = dict(unpressed=1, pressed=0),
                         precision = 0,
                        ),

    tourbutton3_io = device('devices.tango.DigitalInput',
                            description = 'Tango device for Tourbutton3',
                            tangodevice = '%s/antares/fzjdp/PilzSecTourButton3' % tango_host,
                            lowlevel = True,
                           ),
    tourbutton3 = device('devices.generic.ReadonlySwitcher',
                         description = 'Tourbutton3',
                         readable = 'tourbutton3_io',
                         mapping = dict(unpressed=1, pressed=0),
                         precision = 0,
                        ),

    # door state
    door_rot_io = device('devices.tango.DigitalInput',
                         description = 'Tango device for Rotating door',
                         tangodevice = '%s/antares/fzjdp/PilzDoorRot' % tango_host,
                         lowlevel = True,
                        ),
    door_rot = device('devices.generic.ReadonlySwitcher',
                      description = 'Rotating door',
                      readable = 'door_rot_io',
                      mapping = dict(closed=1, open=0),
                      precision = 0,
                     ),

    door_slide_io = device('devices.tango.DigitalInput',
                           description = 'Tango device for Sliding door',
                           tangodevice = '%s/antares/fzjdp/PilzDoorSlide' % tango_host,
                           lowlevel = True,
                          ),
    door_slide = device('devices.generic.ReadonlySwitcher',
                        description = 'Sliding door',
                        readable = 'door_slide_io',
                        mapping = dict(closed=1, open=0),
                        precision = 0,
                       ),

    pilz_state_io = device('devices.tango.DigitalInput',
                           description = 'Tango device for Pilz state',
                           tangodevice = '%s/antares/fzjdp/PilzFailure' % tango_host,
                           lowlevel = True,
                          ),
    pilz_state = device('devices.generic.ReadonlySwitcher',
                        description = 'Pilz state',
                        readable = 'pilz_state_io',
                        mapping = dict(ok=0, failure=1),
                        precision = 0,
                       ),

    # Collimator
    collimator_io = device('devices.tango.DigitalOutput',
                           description = 'Tango device for Collimator',
                           tangodevice = '%s/antares/fzjdp/Collimator' % tango_host,
                           lowlevel = True,
                          ),
    collimator = device('devices.generic.Switcher',
                        description = 'Collimator, value is L/D',
                        moveable = 'collimator_io',
                        mapping = { 3200:1, 200:2, 800:3, 7100:4, 400:5, 1600:6, 'park':7, },
                        fallback = '<undefined>',
                        unit = 'L/D',
                        precision = 0,
                       ),

    # MonoSwitch
    monoswitch_io = device('devices.tango.DigitalOutput',
                           description = 'Tango device for Monoswitch in/out',
                           tangodevice = '%s/antares/fzjdp/Monochromator' % tango_host,
                           lowlevel = True,
                          ),
    monoswitch = device('devices.generic.Switcher',
                        description = 'Monochromator switch in/out',
                        moveable = 'monoswitch_io',
                        mapping = {'in' : 1, 'out' : 2},
                        fallback = '<undefined>',
                        precision = 0,
                       ),

    # PB-Filter
    pbfilter_io = device('devices.tango.DigitalOutput',
                           description = 'Tango device for Pb filter in/out',
                           tangodevice = '%s/antares/fzjdp/FilterPb' % tango_host,
                           lowlevel = True,
                          ),
    pbfilter = device('devices.generic.Switcher',
                        description = 'Pb filter in/out',
                        moveable = 'pbfilter_io',
                        mapping = {'in' : 1, 'out' : 2},
                        fallback = '<undefined>',
                        precision = 0,
                       ),

    # Filter Wheel
    filterwheel_inout_io = device('devices.tango.DigitalOutput',
                           description = 'Tango device for filter wheel in/out',
                           tangodevice = '%s/antares/fzjdp/FilterWheel' % tango_host,
                           lowlevel = True,
                          ),
    filterwheel_inout = device('devices.generic.Switcher',
                        description = 'Filter Wheel in/out',
                        moveable = 'filterwheel_inout_io',
                        mapping = {'in' : 1, 'out' : 2},
                        fallback = '<undefined>',
                        precision = 0,
                       ),

    # power sockets / Steckdosen
    socket01_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 01',
                         tangodevice = '%s/antares/fzjdp/Socket01' % tango_host,
                         lowlevel = True,
                        ),
    socket01 = device('devices.generic.Switcher',
                      description = 'Powersocket 01',
                      moveable = 'socket01_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket02_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 02',
                         tangodevice = '%s/antares/fzjdp/Socket02' % tango_host,
                         lowlevel = True,
                        ),
    socket02 = device('devices.generic.Switcher',
                      description = 'Powersocket 02',
                      moveable = 'socket02_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket03_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 03',
                         tangodevice = '%s/antares/fzjdp/Socket03' % tango_host,
                         lowlevel = True,
                        ),
    socket03 = device('devices.generic.Switcher',
                      description = 'Powersocket 03',
                      moveable = 'socket03_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket04_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 04',
                         tangodevice = '%s/antares/fzjdp/Socket04' % tango_host,
                         lowlevel = True,
                        ),
    socket04 = device('devices.generic.Switcher',
                      description = 'Powersocket 04',
                      moveable = 'socket04_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket05_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 05',
                         tangodevice = '%s/antares/fzjdp/Socket05' % tango_host,
                         lowlevel = True,
                        ),
    socket05 = device('devices.generic.Switcher',
                      description = 'Powersocket 05',
                      moveable = 'socket05_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket06_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 06',
                         tangodevice = '%s/antares/fzjdp/Socket06' % tango_host,
                         lowlevel = True,
                        ),
    socket06 = device('devices.generic.Switcher',
                      description = 'Powersocket 06',
                      moveable = 'socket06_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket07_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 07',
                         tangodevice = '%s/antares/fzjdp/Socket07' % tango_host,
                         lowlevel = True,
                        ),
    socket07 = device('devices.generic.Switcher',
                      description = 'Powersocket 07',
                      moveable = 'socket07_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket08_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 08',
                         tangodevice = '%s/antares/fzjdp/Socket08' % tango_host,
                         lowlevel = True,
                        ),
    socket08 = device('devices.generic.Switcher',
                      description = 'Powersocket 08',
                      moveable = 'socket08_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket09_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 09',
                         tangodevice = '%s/antares/fzjdp/Socket09' % tango_host,
                         lowlevel = True,
                        ),
    socket09 = device('devices.generic.Switcher',
                      description = 'Powersocket 09',
                      moveable = 'socket09_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket10_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 10',
                         tangodevice = '%s/antares/fzjdp/Socket10' % tango_host,
                         lowlevel = True,
                        ),
    socket10 = device('devices.generic.Switcher',
                      description = 'Powersocket 10',
                      moveable = 'socket10_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket11_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 11',
                         tangodevice = '%s/antares/fzjdp/Socket11' % tango_host,
                         lowlevel = True,
                        ),
    socket11 = device('devices.generic.Switcher',
                      description = 'Powersocket 11',
                      moveable = 'socket11_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket12_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 12',
                         tangodevice = '%s/antares/fzjdp/Socket12' % tango_host,
                         lowlevel = True,
                        ),
    socket12 = device('devices.generic.Switcher',
                      description = 'Powersocket 12',
                      moveable = 'socket12_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket13_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 13',
                         tangodevice = '%s/antares/fzjdp/Socket13' % tango_host,
                         lowlevel = True,
                        ),
    socket13 = device('devices.generic.Switcher',
                      description = 'Powersocket 13',
                      moveable = 'socket13_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket14_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 14',
                         tangodevice = '%s/antares/fzjdp/Socket14' % tango_host,
                         lowlevel = True,
                        ),
    socket14 = device('devices.generic.Switcher',
                      description = 'Powersocket 14',
                      moveable = 'socket14_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

    socket15_io = device('devices.tango.DigitalOutput',
                         description = 'Tango device for Powersocket 15',
                         tangodevice = '%s/antares/fzjdp/Socket15' % tango_host,
                         lowlevel = True,
                        ),
    socket15 = device('devices.generic.Switcher',
                      description = 'Powersocket 15',
                      moveable = 'socket15_io',
                      mapping = dict( on=1, off=0 ),
                      precision = 0,
                     ),

)


startupcode = '''
'''
