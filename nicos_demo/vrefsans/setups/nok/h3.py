description = 'h3 aperture devices'

group = 'optional'

devices = dict(
    h3 = device('nicos_mlz.refsans.devices.slits.DoubleSlit',
        description = 'h3 together with b3',
        fmtstr = 'opening: %.3f mm, xpos: %.3f mm',
        maxheight = 80,
        unit = '',
        slit_r = 'h3r',
        slit_s = 'h3s',
    ),
    h3r = device('nicos_mlz.refsans.devices.slits.SingleSlit',
        description = 'h3 blade TOFTOF',
        motor = 'h3_r',
        nok_start = -1,
        nok_length = -1,
        # nok_motor = [11049.50, 11064.50],
        nok_end = -1,
        nok_gap = -1,
        masks = {
            'slit':   151.0,
            'point':  0,
            'gisans': 0,
        },
        lowlevel = True,
        unit = 'mm',
    ),
    h3s = device('nicos_mlz.refsans.devices.slits.SingleSlit',
        description = 'h3 blade KWS',
        motor = 'h3_s',
        nok_start = -1,
        nok_length = -1,
        # nok_motor = [11049.50, 11064.50],
        nok_end = -1,
        nok_gap = -1,
        masks = {
            'slit':   48.0,
            'point':  0,
            'gisans': 0,
        },
        lowlevel = True,
        unit = 'mm',
    ),
    h3_r = device('nicos.devices.generic.Axis',
        description = 'h3, TOFTOF',
        motor = device('nicos.devices.generic.VirtualMotor',
            unit = 'mm',
            abslimits = (-393.0, 330.0),
            speed = 1.,
        ),
        precision = 0.03,
        lowlevel = True,
    ),
    h3_s = device('nicos.devices.generic.Axis',
        description = 'h3, ',
        motor = device('nicos.devices.generic.VirtualMotor',
            unit = 'mm',
            abslimits = (-102.0, 170.0),
            speed = 1.,
        ),
        precision = 0.03,
        lowlevel = True,
    ),
)
