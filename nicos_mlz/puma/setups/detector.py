#  -*- coding: utf-8 -*-

description = 'common detector devices provided by QMesyDAQ'

group = 'lowlevel'

nethost = 'pumasrv.puma.frm2'

devices = dict(
    timer = device('nicos.devices.taco.FRMTimerChannel',
        description = 'QMesyDAQ timer',
        # tacodevice = '//%s/puma/frmctr/at' % nethost,
        tacodevice = '//%s/puma/qmesydaq/timer' % nethost,
        lowlevel = True,
    ),
    mon1 = device('nicos.devices.taco.FRMCounterChannel',
        description = 'QMesyDAQ monitor 1',
        # tacodevice = '//%s/puma/frmctr/a1' % nethost,
        tacodevice = '//%s/puma/qmesydaq/counter0' % nethost,
        type = 'monitor',
        lowlevel = True,
        fmtstr = '%d',
    ),
    # mon2 = device('nicos.devices.taco.FRMCounterChannel',
    #     tacodevice = '//%s/puma/frmctr/a2' % nethost,
    #     type = 'monitor',
    #     lowlevel = True,
    #     fmtstr = '%d',
    # ),
    det1 = device('nicos.devices.taco.FRMCounterChannel',
        # tacodevice = '//%s/puma/frmctr/a3' % nethost,
        tacodevice = '//%s/puma/qmesydaq/counter1' % nethost,
        type = 'counter',
        lowlevel = True,
        fmtstr = '%d',
    ),
    det2 = device('nicos.devices.taco.FRMCounterChannel',
        # tacodevice = '//%s/puma/frmctr/a4' % nethost,
        tacodevice = '//%s/puma/qmesydaq/counter2' % nethost,
        type = 'counter',
        lowlevel = True,
        fmtstr = '%d',
    ),
    det3 = device('nicos.devices.taco.FRMCounterChannel',
        # tacodevice = '//%s/puma/frmctr/b1' % nethost,
        tacodevice = '//%s/puma/qmesydaq/counter3' % nethost,
        type = 'counter',
        lowlevel = True,
        fmtstr = '%d',
    ),
    # det4 = device('nicos.devices.taco.FRMCounterChannel',
    #     tacodevice = '//%s/puma/frmctr/b2' % nethost,
    #     type = 'counter',
    #     lowlevel = True,
    #     fmtstr = '%d',
    # ),
    # det5 = device('nicos.devices.taco.FRMCounterChannel',
    #     tacodevice = '//%s/puma/frmctr/b3' % nethost,
    #     type = 'counter',
    #     lowlevel = True,
    #     fmtstr = '%d',
    # ),
    events = device('nicos.devices.vendor.qmesydaq.taco.Counter',
        description = 'QMesyDAQ Events channel',
        tacodevice = '//%s/puma/qmesydaq/events' % nethost,
        type = 'counter',
        lowlevel = True,
        fmtstr = '%d',
    ),
    image = device('nicos.devices.vendor.qmesydaq.taco.Image',
        description = 'QMesyDAQ Image',
        tacodevice = '//%s/puma/qmesydaq/det' % nethost,
        lowlevel = True,
    ),
)

startupcode = '''
SetDetectors(det)
'''
